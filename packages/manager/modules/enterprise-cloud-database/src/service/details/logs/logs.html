<div>
    <h6 data-translate="enterprise_cloud_database_logs_ldp_accounts"></h6>
    <p data-translate="enterprise_cloud_database_logs_description"></p>
    <p>
        <a
            data-ng-href="{{ ::$ctrl.ldpHomeUrl }}"
            target="_blank"
            class="oui-link_icon"
        >
            <span
                data-translate="enterprise_cloud_database_logs_ldp_access"
            ></span>
            <span
                class="oui-icon oui-icon-external_link"
                aria-hidden="true"
            ></span>
        </a>
    </p>
    <oui-datagrid
        data-rows="$ctrl.logs"
        data-row-loader="$ctrl.loadLogDetails($row.id)"
        data-page-size="10"
    >
        <oui-column
            data-title=":: 'enterprise_cloud_database_logs_username' | translate"
            data-property="username"
            data-sortable="asc"
            data-type="string"
            data-searchable
            data-filterable
        >
        </oui-column>
        <oui-column
            data-title=":: 'enterprise_cloud_database_logs_status' | translate"
            data-property="status"
            data-type="string"
            data-sortable
            data-searchable
            data-filterable
        >
            <span
                class="oui-status"
                data-ng-class="'oui-status_' + $ctrl.enterpriseCloudDatabaseService.constructor.getStatusGroup($row.status)"
                data-ng-bind=":: ('enterprise_cloud_database_common_status_' + $row.status) | translate"
            >
            </span>
        </oui-column>
        <oui-column
            data-title=":: 'enterprise_cloud_database_logs_note' | translate"
            data-property="note"
            data-sortable
            data-searchable
            data-type="string"
        >
        </oui-column>
        <oui-action-menu data-align="end" data-compact>
            <oui-action-menu-item
                data-on-click="$ctrl.revokeAccess($row)"
                data-disabled="$ctrl.enterpriseCloudDatabaseService.constructor.isProcessing($row.status)
                    || $ctrl.enterpriseCloudDatabaseService.constructor.isProcessing($ctrl.clusterDetails.status)"
            >
                <span
                    data-translate="enterprise_cloud_database_logs_revoke_access"
                ></span>
            </oui-action-menu-item>
        </oui-action-menu>
        <extra-top>
            <oui-button
                data-variant="primary"
                data-on-click="$ctrl.grantAccess()"
                data-disabled="$ctrl.enterpriseCloudDatabaseService.constructor.isProcessing($ctrl.clusterDetails.status)"
            >
                <span
                    data-translate="enterprise_cloud_database_logs_grant_access"
                ></span>
            </oui-button>
            <button
                class="float-right oui-button oui-button_secondary oui-button_icon-only oui-button_small-width"
                data-title="{{:: 'enterprise_cloud_database_common_refresh' | translate }}"
                data-ng-click="$ctrl.refreshing=true; $ctrl.refreshLogs()"
                data-ng-disabled="$ctrl.refreshing"
            >
                <span class="fa fa-refresh" aria-hidden="true"></span>
            </button>
        </extra-top>
    </oui-datagrid>
</div>
