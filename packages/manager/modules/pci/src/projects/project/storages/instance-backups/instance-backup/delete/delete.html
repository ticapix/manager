<oui-modal
    data-heading="{{ 'pci_projects_project_storages_volume-instances_volume-instance_delete_title' | translate }}"
    data-primary-action="$ctrl.deleteStorage()"
    data-primary-label="{{:: 'pci_projects_project_storages_volume-instances_volume-instance_delete_submit_label' | translate }}"
    data-primary-disabled="$ctrl.isLoading || !$ctrl.instanceBackup.isDeletable() || $ctrl.namesOfAssociatedInstances.length > 0"
    data-secondary-action="$ctrl.goBack()"
    data-secondary-label="{{:: 'pci_projects_project_storages_volume-instances_volume-instance_delete_cancel_label' | translate }}"
    data-on-dismiss="$ctrl.goBack()"
    data-loading="$ctrl.isLoading"
>
    <div
        data-ng-if="$ctrl.instanceBackup.isDeletable() && $ctrl.namesOfAssociatedInstances.length === 0"
    >
        <p
            data-translate="pci_projects_project_storages_volume-instances_volume-instance_delete_content"
            data-translate-values="{ backup: $ctrl.instanceBackup.name }"
        ></p>
        <oui-message data-type="warning">
            <span
                data-translate="pci_projects_project_storages_volume-instances_volume-instance_delete_erase_message"
            ></span>
        </oui-message>
    </div>
    <oui-message
        data-ng-if="!$ctrl.instanceBackup.isDeletable()"
        data-type="warning"
    >
        <span
            data-translate="pci_projects_project_storages_volume-instances_volume-instance_delete_error_not_deletable"
        ></span>
    </oui-message>
    <div data-ng-if="$ctrl.namesOfAssociatedInstances.length > 0">
        <oui-message data-type="warning">
            <span
                data-translate="pci_projects_project_storages_volume-instances_volume-instance_delete_error_installed"
                data-translate-values="{ instances: $ctrl.namesOfAssociatedInstances.join(', ') }"
            >
            </span>
        </oui-message>
    </div>
</oui-modal>
