<h1 data-translate="kubernetes_add"></h1>

<cui-message-container data-messages="$ctrl.messages"></cui-message-container>

<oui-stepper>
    <oui-step-form
        name="kubernetes_add_region"
        data-header="{{:: 'kubernetes_add_region_title' | translate }}"
        data-editable="!$ctrl.isAdding"
        data-valid="$ctrl.cluster.region"
        data-navigation="$ctrl.cluster.region"
        data-on-focus="$ctrl.displaySelectedRegion = false"
        data-on-submit="$ctrl.displaySelectedRegion = true"
    >
        <pci-project-regions-list
            data-regions="$ctrl.regions"
            data-selected-region="$ctrl.cluster.region"
            data-display-selected-region="$ctrl.displaySelectedRegion"
        ></pci-project-regions-list>
    </oui-step-form>
    <oui-step-form
        data-header="{{:: 'kubernetes_add_version_title' | translate }}"
        data-editable="!$ctrl.isAdding"
        data-valid="$ctrl.cluster.version"
        data-navigation="$ctrl.cluster.version"
        data-on-focus="$ctrl.displaySelectedVersion = false"
        data-on-submit="$ctrl.displaySelectedVersion = true"
        name="kubernetes_add_version"
    >
        <pci-project-versions-list
            data-versions="$ctrl.versions"
            data-selected-version="$ctrl.cluster.version"
            data-highest-version="$ctrl.highestVersion"
            data-display-selected-version="$ctrl.displaySelectedVersion"
        >
        </pci-project-versions-list>
    </oui-step-form>
    <oui-step-form
        data-header="{{:: 'kubernetes_add_name_title' | translate }}"
        data-editable="!$ctrl.isAdding"
        data-valid="$ctrl.cluster.name"
        data-navigation="$ctrl.cluster.name"
        data-on-submit="$ctrl.create()"
        name="kubernetes_add_name"
    >
        <oui-field
            data-size="m"
            data-label="{{:: 'kubernetes_add_name' | translate }}"
        >
            <input
                class="oui-input"
                type="text"
                id="name"
                name="name"
                data-ng-model="$ctrl.cluster.name"
                required
            />
        </oui-field>

        <div data-ng-if="$ctrl.isAdding" class="d-flex align-items-center">
            <oui-spinner data-size="m"></oui-spinner>
            <span data-translate="kubernetes_add_loading"></span>
        </div>
    </oui-step-form>
</oui-stepper>
