<div class="row">
    <section class="col-sm-7">
        <h2 data-translate="cpbc_tab_forecast"></h2>
        <p>
            <span
                data-translate="cpbe_estimate_summary_header"
                data-translate-values="{ month: BillingConsumptionEstimateCtrl.getNextMonth().format('MMMM')}"
            ></span>
            <strong
                data-ng-bind="BillingConsumptionEstimateCtrl.data.estimateTotals.total.toFixed(2)"
            ></strong
            >&nbsp;<strong
                data-ng-bind="BillingConsumptionEstimateCtrl.data.estimateTotals.currencySymbol"
            ></strong>
        </p>
        <oui-spinner
            data-ng-if="BillingConsumptionEstimateCtrl.loaders.forecast"
        ></oui-spinner>
        <div data-ng-if="!BillingConsumptionEstimateCtrl.loaders.forecast">
            <p
                data-translate="cpbe_estimate_summary_renew_monthly_sub_label"
                data-translate-values="{ total: BillingConsumptionEstimateCtrl.data.estimateTotals.monthly.total.toFixed(2) + ' ' + BillingConsumptionEstimateCtrl.data.estimateTotals.currencySymbol }"
            ></p>
            <p
                data-translate="cpbe_estimate_summary_hourly_consumption_label"
                data-translate-values="{
                   month: BillingConsumptionEstimateCtrl.getCurrentMonth().format('MMMM'),
                   total: BillingConsumptionEstimateCtrl.data.estimateTotals.hourly.total.toFixed(2) + ' ' +  BillingConsumptionEstimateCtrl.data.estimateTotals.currencySymbol
               }"
            ></p>
        </div>
    </section>
    <section class="col-sm-5">
        <oui-tile
            heading="{{ ::'cpbe_estimate_alert_header_title' | translate }}"
            description="{{ ::'cpbe_estimate_alert_header_description' | translate }}"
        >
            <div
                class="text-center"
                data-ng-show="BillingConsumptionEstimateCtrl.loaders.alert"
            >
                <oui-spinner></oui-spinner>
            </div>
            <div
                data-ng-if="!BillingConsumptionEstimateCtrl.loaders.alert && !BillingConsumptionEstimateCtrl.data.alert"
            >
                <button
                    class="oui-button oui-button_primary"
                    type="button"
                    data-ng-click="BillingConsumptionEstimateCtrl.openAlertAddModal()"
                    data-ng-disabled="false"
                    title="{{ :: cpbe_estimate_alert_create | translate }}"
                    write-right-required
                >
                    <i class="fa fa-bell"></i>
                    <span translate="cpbe_estimate_alert_create"></span>
                </button>
            </div>
            <div
                data-ng-if="!BillingConsumptionEstimateCtrl.loaders.alert && BillingConsumptionEstimateCtrl.data.alert"
            >
                <cuc-consumption-chart
                    model="BillingConsumptionEstimateCtrl.consumptionChartData"
                ></cuc-consumption-chart>
                <div write-right-required>
                    <oui-spinner
                        size="s"
                        data-ng-if="BillingConsumptionEstimateCtrl.loaders.deleteAlert"
                    ></oui-spinner>
                    <button
                        class="oui-button oui-button_secondary"
                        type="button"
                        data-ng-click="BillingConsumptionEstimateCtrl.openAlertAddModal()"
                        data-ng-disabled="BillingConsumptionEstimateCtrl.loaders.deleteAlert"
                        title="{{ :: cpbe_estimate_alert_edit | translate }}"
                    >
                        <span translate="cpbe_estimate_alert_edit"></span>
                    </button>
                    <button
                        class="oui-button oui-button_secondary"
                        type="button"
                        data-ng-click="BillingConsumptionEstimateCtrl.deleteAlert()"
                        data-ng-disabled="BillingConsumptionEstimateCtrl.loaders.deleteAlert"
                    >
                        <span
                            data-translate="cpbe_estimate_alert_delete"
                        ></span>
                    </button>
                </div>
            </div>
        </oui-tile>
    </section>
</div>
