<oui-datagrid
    data-rows="$ctrl.subscriptions"
    data-row-loader="$ctrl.getSubscriptionDetails($row)"
>
    <oui-column
        data-title=":: 'pci_projects_project_streams_stream_subscriptions_name_label' | translate"
        data-property="name"
        data-type="string"
        data-searchable
        data-filterable
        data-sortable="asc"
    >
    </oui-column>

    <oui-column
        data-title=":: 'pci_projects_project_streams_stream_subscriptions_lag_label' | translate"
        data-property="stats.lag"
        data-type="number"
        data-sortable
        data-filterable
    >
        <span data-ng-bind="{{:: $row.stats.lag.toFixed(2) }}"></span>
    </oui-column>

    <oui-action-menu data-align="left-start" data-compact>
        <oui-action-menu-item
            data-text="{{:: 'pci_projects_project_streams_stream_subscriptions_reset_label' | translate }}"
            data-on-click="$ctrl.resetSubscription($row)"
        >
        </oui-action-menu-item>
        <oui-action-menu-item
            data-text="{{:: 'pci_projects_project_streams_stream_subscriptions_delete_label' | translate }}"
            data-on-click="$ctrl.deleteSubscription($row)"
        >
        </oui-action-menu-item>
    </oui-action-menu>

    <extra-top>
        <a
            data-ng-href="{{ $ctrl.addSubscribtionLink }}"
            class="oui-button oui-button_secondary oui-button_icon-left"
        >
            <span class="oui-icon oui-icon-add pr-1" aria-hidden="true"></span>
            <span
                data-translate="pci_projects_project_streams_stream_subscriptions_add_label"
            ></span>
        </a>
    </extra-top>
</oui-datagrid>
