<div class="container-fluid px-0" data-ng-controller="ExchangeDisclaimerCtrl as ctrlDisclaimer">

    <div class="alert alert-info" role="alert"
         data-translate="exchange_tab_DISCLAIMER_table_no_domain"
         data-ng-if="ctrlDisclaimer.addDomainMessageFlag">
    </div>

    <oui-datagrid data-rows-loader="ctrlDisclaimer.loadPaginated($config)">
        <oui-column data-title="'exchange_tab_DISCLAIMER_associated_domains' | translate" data-property="domain.displayName"></oui-column>
        <oui-column data-title="'exchange_tab_DISCLAIMER_disclaimer_content' | translate" data-property="strippedContent">
            <span data-ng-bind="$row.strippedContent | wucSliceContent:20"></span>
        </oui-column>
        <oui-column data-title="'exchange_tab_DISCLAIMER_disclaimer_outside_only' | translate" data-property="outsideOnly">
            <span data-ng-if="$row.outsideOnly"
                  data-translate="exchange_tab_DISCLAIMER_disclaimer_outside_only_true"
                  data-oui-tooltip="{{'exchange_tab_DISCLAIMER_disclaimer_outside_only_tooltip' | translate}}"></span>
            <span data-ng-if="!$row.outsideOnly"
                  data-translate="exchange_tab_DISCLAIMER_disclaimer_outside_only_false"
                  data-oui-tooltip="{{'exchange_tab_DISCLAIMER_disclaimer_outside_only_tooltip' | translate}}"></span>
        </oui-column>
        <oui-column data-title="'exchange_tab_DISCLAIMER_state_header' | translate">
            <span class="oui-status oui-status_info"
                  data-translate="exchange_tab_DISCLAIMER_state_doing_tooltip"
                  data-ng-if="$row.taskPendingId && $row.taskPendingId !== 0"></span>
            <span class="oui-status oui-status_success"
                  data-translate="exchange_tab_ACCOUNTS_state_OK"
                  data-ng-if="$row.taskPendingId === 0"></span>
            <span class="oui-status oui-status_warning"
                  data-translate="common_not_configurated"
                  data-ng-if="$row.emptySlotFlag"></span>
        </oui-column>

        <oui-action-menu data-compact
                         data-align="end"
                         data-disabled="$row.taskPendingId">
            <oui-action-menu-item
                data-text="{{'exchange_tab_DISCLAIMER_menu_settings' | translate}}"
                data-ng-click="ctrlDisclaimer.updateDisclaimer($row)"
                data-ng-if="!$row.taskPendingId && $row.emptySlotFlag === false"></oui-action-menu-item>
            <oui-action-menu-item
                data-text="{{'exchange_tab_DISCLAIMER_menu_delete' | translate}}"
                data-ng-click="ctrlDisclaimer.deleteDisclaimer($row)"
                data-ng-if="!$row.taskPendingId && $row.emptySlotFlag === false"></oui-action-menu-item>
            <oui-action-menu-item
                data-text="{{'global_configuration' | translate}}"
                data-ng-click="ctrlDisclaimer.addDisclaimer($row)"
                data-ng-if="!$row.taskPendingId && $row.emptySlotFlag"></oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>
</div>
