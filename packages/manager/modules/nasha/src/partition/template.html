<div class="top-space-m20 bottom-space-m20 nasha-partition">
    <div>
        <h3 class="oui-header_3">
            {{'nasha_partition' | translate}}
            <i
                class="oui-icon oui-icon-help_circle fs18 pointer"
                data-ng-if="NashaPartitionCtrl.data.nasha"
                data-responsive-popover="'nasha/partition/partition-help.html'"
                data-popover-placement="right"
                data-popover-append-to-body="true"
                data-popover-trigger="outsideClick"
            >
            </i>
        </h3>

        <button
            type="button"
            class="oui-button oui-button_secondary"
            data-ng-disabled="NashaPartitionCtrl.loaders.table"
            data-ng-if="NashaPartitionCtrl.data.nasha.canCreatePartition"
            data-ng-click="NashaPartitionCtrl.goToPartitionAdd()"
            data-translate="nasha_partitions_action_add"
        ></button>

        <oui-datagrid data-rows="NashaPartitionCtrl.data.table.partitions">
            <oui-column
                data-property="partitionName"
                data-title="'nasha_partitions_name' | translate"
                data-sortable="asc"
            ></oui-column>
            <oui-column
                data-property="protocol"
                data-title="'nasha_partitions_protocol' | translate"
                data-sortable
            >
                <span
                    data-ng-if="$row.protocol"
                    data-translate="{{'nasha_partitions_protocol_' + $row.protocol}}"
                ></span>
            </oui-column>
            <oui-column
                data-property="use"
                data-title="'nasha_partitions_size' | translate"
            >
                <cuc-space-meter
                    class="cloud-space-meter"
                    data-ng-if="$row.use"
                    data-usage="$row.use"
                >
                </cuc-space-meter>
            </oui-column>
            <oui-column>
                <oui-spinner
                    data-size="s"
                    data-ng-show="NashaPartitionCtrl.hasTaskInProgress($row)"
                ></oui-spinner>
            </oui-column>
            <oui-action-menu data-align="end" data-compact>
                <oui-action-menu-item
                    data-text="{{ 'nasha_partitions_action_update' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToPartitionUpdate($row)"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-text="{{ 'nasha_partitions_action_change_access' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToNashaPartitionAccess($row.partitionName)"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-text="{{ 'nasha_partitions_action_display_snapshot' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToPartitionSnapshot($row)"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-text="{{ 'nasha_partitions_action_display_custom_snapshot' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToPartitionCustomSnapshot($row)"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-text="{{ 'nasha_partitions_action_z_file_system' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToPartitionZfsOptions($row)"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-ng-show="NashaPartitionCtrl.data.nasha.canCreatePartition"
                    data-text="{{ 'nasha_common_remove' | translate }}"
                    data-on-click="NashaPartitionCtrl.goToPartitionDelete($row)"
                >
                </oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid>
    </div>
</div>
