<div data-ng-controller="SharepointUpdatePasswordCtrl as updatePasswordCtrl">
    <div
        data-wizard
        data-wizard-on-cancel="resetAction"
        data-wizard-on-finish="updatingSharepointPassword"
        data-wizard-title="'sharepoint_ACTION_update_password_title' | translate"
    >
        <div
            data-wizard-step
            data-wizard-step-valid="updatePasswordCtrl.account.password && !updatePasswordCtrl.differentPasswordFlag && !updatePasswordCtrl.simplePasswordFlag"
        >
            <dl class="dl-horizontal">
                <dt
                    class="oui-label"
                    data-translate="sharepoint_ACTION_update_password_account_label"
                ></dt>
                <dd
                    class="pl-4"
                    data-ng-bind="updatePasswordCtrl.account.userPrincipalName"
                ></dd>
            </dl>

            <form class="form-horizontal" name="updatePasswordForm">
                <div
                    class="form-group"
                    data-ng-class="{'has-error': updatePasswordCtrl.simplePasswordFlag || updatePasswordCtrl.containsNameFlag || updatePasswordCtrl.containsSamAccountNameFlag}"
                >
                    <label
                        class="control-label col-md-4 required"
                        for="password"
                        data-translate="sharepoint_ACTION_update_password_pass_label"
                    ></label>
                    <div class="col-md-6">
                        <input
                            type="password"
                            class="form-control"
                            autocomplete="off"
                            id="password"
                            name="password"
                            required
                            data-ng-change="updatePasswordCtrl.setPasswordsFlag(updatePasswordCtrl.account)"
                            data-ng-model="updatePasswordCtrl.account.password"
                            data-uib-tooltip="{{updatePasswordCtrl.passwordTooltip}}"
                        />
                        <small
                            class="help-block"
                            data-translate="sharepoint_exchange_ACTION_update_account_step1_password_weak"
                            data-ng-if="updatePasswordCtrl.simplePasswordFlag"
                            data-uib-tooltip="{{updatePasswordCtrl.passwordTooltip}}"
                        ></small>
                        <small
                            class="help-block"
                            data-ng-if="updatePasswordCtrl.containsNameFlag"
                            data-translate="sharepoint_exchange_ACTION_update_account_step1_password_contains_name"
                        ></small>
                        <small
                            class="help-block"
                            data-ng-if="updatePasswordCtrl.containsSamAccountNameFlag"
                            data-ng-bind="updatePasswordCtrl.containsSamAccountNameLabel"
                        ></small>
                    </div>
                </div>

                <div
                    class="form-group"
                    data-ng-class="{'has-error': updatePasswordCtrl.account.passwordConfirmation && updatePasswordCtrl.differentPasswordFlag}"
                >
                    <label
                        class="control-label col-md-4 required"
                        for="confirmPassword"
                        data-translate="sharepoint_ACTION_update_password_confirm_pass_label"
                    ></label>
                    <div class="col-md-6">
                        <input
                            type="password"
                            class="form-control"
                            autocomplete="off"
                            id="confirmPassword"
                            name="confirmPassword"
                            required
                            data-ng-change="updatePasswordCtrl.setPasswordsFlag(updatePasswordCtrl.account)"
                            data-ng-model="updatePasswordCtrl.account.passwordConfirmation"
                            data-uib-tooltip="{{updatePasswordCtrl.passwordTooltip}}"
                        />
                        <small
                            class="help-block"
                            data-ng-if="updatePasswordCtrl.account.passwordConfirmation && updatePasswordCtrl.differentPasswordFlag"
                            data-translate="sharepoint_exchange_ACTION_update_account_step1_password_different"
                        ></small>
                    </div>
                </div>
            </form>

            <div
                class="alert alert-warning"
                role="alert"
                data-translate="sharepoint_ACTION_update_password_shared_password_warning"
                data-ng-if="updatePasswordCtrl.hasAssociatedExchange"
            ></div>
        </div>
    </div>
</div>
