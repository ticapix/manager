<section class="telecom-telephony-alias">
    <!-- LOADING -->
    <div class="text-center" data-ng-if="$ctrl.loading">
        <oui-spinner data-size="l"></oui-spinner>
    </div>

    <div class="telecom-section-header" data-ng-if="!$ctrl.loading">
        <header class="page-header" role="banner">
            <!-- GROUP TITLE -->
            <tuc-editable-service-name
                data-tuc-editable-service-name-title="$ctrl.alias.getDisplayedName()"
                data-tuc-editable-service-name-title-on-save="$ctrl.aliasDescriptionSave()"
                data-tuc-editable-service-name-service-name="$ctrl.alias.serviceName"
                data-ng-if="$ctrl.serviceName"
                data-maxlength="25"
            >
            </tuc-editable-service-name>
        </header>

        <!-- LINE ACTIONS -->
        <oui-header-tabs>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_number' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.dashboard"
                data-disabled="!$ctrl.serviceName"
            ></oui-header-tabs-item>
            <oui-header-tabs-dropdown
                data-text="{{:: 'telephony_alias_tab_number_configuration' | translate }}"
                data-ng-if="$ctrl.alias.featureType !== 'empty'"
            >
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_line_management' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.configuration.lines"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                    data-ng-if="$ctrl.isContactCenterSolution()"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_sounds_waiting_management' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.configuration.sounds"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                    data-ng-if="$ctrl.isContactCenterSolution()"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_time_condition_management' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.configuration.timeCondition"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                    data-ng-if="$ctrl.isContactCenterSolution()"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_calls_filtering_management' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.configuration.callsFiltering"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                    data-ng-if="$ctrl.isContactCenterSolution()"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_' + $ctrl.alias.featureType + '_management' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.configuration"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                    data-ng-if="!$ctrl.isContactCenterSolution()"
                ></oui-header-tabs-item>
                <oui-header-tabs-divider></oui-header-tabs-divider>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_tab_item_change_featureType' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.changeType"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                ></oui-header-tabs-item>
            </oui-header-tabs-dropdown>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_number_configuration' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.changeType"
                data-disabled="$ctrl.isFeatureTypeObsolete()"
                data-ng-if="$ctrl.alias.featureType === 'empty'"
            ></oui-header-tabs-item>
            <oui-header-tabs-dropdown
                data-text="{{:: 'telephony_alias_tab_consumption' | translate }}"
                data-ng-if="$ctrl.serviceName && $ctrl.hasConsumption()"
            >
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_consumption_incoming_calls' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.consumptionIncomingCalls"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_consumption_outgoing_calls' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.consumptionOutgoingCalls"
                    data-disabled="$ctrl.isFeatureTypeObsolete()"
                ></oui-header-tabs-item>
            </oui-header-tabs-dropdown>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_statistics' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.statistics"
                data-disabled="$ctrl.isFeatureTypeObsolete()"
                data-ng-if="$ctrl.isContactCenterSolution()"
            ></oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_records' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.records"
                data-disabled="$ctrl.isFeatureTypeObsolete()"
                data-ng-if="$ctrl.isContactCenterSolution()"
            ></oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_bank_maker' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.svaGenerator"
                data-ng-if="$ctrl.serviceName && $ctrl.isSpecialNumber"
            ></oui-header-tabs-item>
            <oui-header-tabs-dropdown
                data-text="{{:: 'telephony_alias_tab_special' | translate }}"
                data-disabled="$ctrl.isFeatureTypeObsolete()"
                data-ng-if="$ctrl.serviceName && $ctrl.isSpecialNumber"
            >
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_special_repayments' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.repayments"
                ></oui-header-tabs-item>
                <oui-header-tabs-item
                    data-text="{{:: 'telephony_alias_special_number_rsva' | translate }}"
                    data-state="telecom.telephony.billingAccount.alias.rsva"
                ></oui-header-tabs-item>
            </oui-header-tabs-dropdown>
            <oui-header-tabs-item
                data-text="{{:: 'telephony_alias_tab_number_directory' | translate }}"
                data-state="telecom.telephony.billingAccount.alias.contact"
                data-disabled="!$ctrl.serviceName || $ctrl.isFeatureTypeObsolete()"
            ></oui-header-tabs-item>
        </oui-header-tabs>
    </div>
    <!-- /.telecom-section-header -->

    <div class="telecom-section-alert" data-ng-if="!$ctrl.loading">
        <div
            class="alert alert-warning"
            role="alert"
            data-ng-if="$ctrl.terminationTask"
        >
            <span
                data-translate="telephony_alias_termination_warning"
                data-translate-values="{ date: ($ctrl.terminationTask.executionDate | date) }"
            ></span>
            <a
                data-ui-sref="telecom.telephony.billingAccount.alias.terminate"
                data-translate="telephony_alias_termination_warning_cancel"
            ></a>
        </div>
        <div
            class="alert alert-warning"
            role="alert"
            data-ng-if="$ctrl.convertTask"
        >
            <span
                data-translate="telephony_alias_convert_warning"
                data-translate-values="{ date: ($ctrl.convertTask.executionDate | date) }"
            ></span>
            <a
                data-ui-sref="telecom.telephony.billingAccount.alias.convertToLine"
                data-translate="telephony_alias_termination_warning_cancel"
            ></a>
        </div>
    </div>
    <!-- /.telecom-section-alert -->

    <main
        class="telecom-section-content"
        role="main"
        data-ng-if="!$ctrl.loading"
        data-ui-view="aliasInnerView"
    ></main>
    <!-- .telecom-section-content -->
</section>
<!-- /.telecom-telephony-alias -->
