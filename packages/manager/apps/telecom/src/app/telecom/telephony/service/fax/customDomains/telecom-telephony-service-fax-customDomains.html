<section class="telecom-telephony-service-fax-custom-domains">
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <div class="widget-presentation">
                <header class="widget-presentation-header">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_service_fax_custom_domains_informations"
                    ></h2>
                </header>

                <tuc-toast-message></tuc-toast-message>

                <div class="alert alert-info" role="alert">
                    <p
                        data-translate="telephony_service_fax_custom_domains_informations_alert_info1"
                    ></p>
                    <p
                        data-translate="telephony_service_fax_custom_domains_informations_alert_info2"
                    ></p>
                </div>
            </div>
            <!-- /.widget-presentation -->
        </div>
        <div class="col-xs-12 col-md-6">
            <div class="widget-presentation">
                <header class="widget-presentation-header">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_service_fax_custom_domains_configuration"
                    ></h2>
                </header>

                <div class="text-center" data-ng-if="$ctrl.loading.init">
                    <oui-spinner></oui-spinner>
                </div>

                <div data-ng-if="!$ctrl.loading.init">
                    <!-- TABLE -->
                    <oui-datagrid data-rows="$ctrl.customDomains.raw">
                        <oui-column
                            data-title="'telephony_service_fax_custom_domains_configuration_table_column_domain' | translate"
                            data-property="domain"
                            data-sortable="asc"
                        >
                            <span data-ng-bind="$row.domain"></span>
                        </oui-column>
                        <oui-column
                            data-title="'telephony_service_fax_custom_domains_configuration_table_column_action' | translate"
                        >
                            <button
                                type="button"
                                class="btn btn-default"
                                data-ng-click="$ctrl.removeCustomDomains($row)"
                                data-ng-disabled="$row.isDeleting"
                                data-translate-attr="{ title: 'telephony_service_fax_custom_domains_configuration_table_action_delete' }"
                                data-translate-values="{ domain: $row.domain }"
                            >
                                <span
                                    class="ovh-font ovh-font-bin"
                                    aria-hidden="true"
                                ></span>
                            </button>
                        </oui-column>
                    </oui-datagrid>

                    <!-- FORM -->
                    <form
                        name="addCustomDomainForm"
                        novalidate
                        data-ng-submit="$ctrl.addCustomDomains(addCustomDomainForm)"
                    >
                        <div class="form-group">
                            <label
                                for="addCustomDomain"
                                class="control-label"
                                data-translate="telephony_service_fax_custom_domains_configuration_form_add_label"
                            >
                            </label>
                            <input
                                type="text"
                                id="addCustomDomain"
                                class="form-control"
                                name="addCustomDomain"
                                autofocus
                                autocomplete="off"
                                required
                                data-ng-model="$ctrl.addCustomDomainsForm.domain"
                                data-uib-typeahead="domain for domain in $ctrl.domains | filter:$viewValue | limitTo:8"
                                data-translate-attr="{ placeholder: 'telephony_service_fax_custom_domains_configuration_form_add_label' }"
                            />
                        </div>
                        <div class="form-group">
                            <button
                                type="submit"
                                class="btn btn-primary ml-2"
                                data-ng-disabled="addCustomDomainForm.$invalid ||
                                                  $ctrl.addCustomDomainsForm.isAdding"
                                data-translate="submit"
                            ></button>
                            <button
                                type="button"
                                class="btn btn-default float-left"
                                data-ng-click="$ctrl.cancelCustomDomains(addCustomDomainForm)"
                                data-translate="cancel"
                            ></button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- /.widget-presentation -->
        </div>
    </div>
    <!-- /.row -->
</section>
<!-- /.telecom-telephony-service-fax-custom-domains -->
