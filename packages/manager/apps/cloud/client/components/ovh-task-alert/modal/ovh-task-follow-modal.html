<cui-modal>
    <cui-modal-header data-on-dismiss="$ctrl.dismiss()"></cui-modal-header>
    <cui-modal-body title="'ovh_task_follow_modal_title' | translate">
        <uib-accordion>
            <div
                data-ng-repeat="task in $ctrl.tasks track by $index"
                class="panel-default"
                data-uib-accordion-group
                data-is-open="$ctrl.isOpenState[task.task_id]"
            >
                <uib-accordion-heading>
                    <div class="clearfix">
                        <span
                            class="float-left"
                            data-ng-bind="task.item_summary"
                        >
                        </span>
                        <i
                            class="float-right ovh-font"
                            data-ng-class="{ 'ovh-font-small-arrow-down': $ctrl.isOpenState[task.task_id], 'ovh-font-small-arrow-right': !$ctrl.isOpenState[task.task_id] }"
                        >
                        </i>
                    </div>
                </uib-accordion-heading>
                <div data-ng-repeat="comment in task.comments track by $index">
                    <p
                        class="text-danger"
                        data-translate="ovh_task_follow_modal_comment"
                        data-translate-values="{ date: ((comment.date_added * 1000) | date:'medium') }"
                    ></p>
                    <p
                        style="white-space: pre-wrap;"
                        data-ng-bind-html="comment.comment_text"
                    ></p>
                    <hr />
                </div>
                <div>
                    <p
                        style="white-space: pre-wrap;"
                        data-ng-bind-html="task.detailed_desc"
                    ></p>
                </div>
            </div>
        </uib-accordion>
    </cui-modal-body>
</cui-modal>
