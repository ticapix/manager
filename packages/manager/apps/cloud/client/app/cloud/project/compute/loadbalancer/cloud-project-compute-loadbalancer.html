<div id="cloud-project-compute-loadbalancer" class="cui-page__content">
    <div
        data-ng-if="!CloudProjectComputeLoadbalancerCtrl.loaders.table.loadbalancer && CloudProjectComputeLoadbalancerCtrl.table.loadbalancer && !CloudProjectComputeLoadbalancerCtrl.table.loadbalancer.length"
        class="discover-iplb"
    >
        <h3
            class="oui-header_3"
            data-translate="cpc_loadbalancer_discover_title"
        ></h3>
        <p data-translate="cpc_loadbalancer_discover_body"></p>
        <div class="discover-iplb__image">
            <img
                data-ng-src="assets/images/cloud/loadbalancer/loadbalancer-schema.png"
                alt="{{cpc_loadbalancer_discover_title | translate}}"
            />
        </div>
        <div class="discover-iplb__button">
            <a
                class="oui-button oui-button_primary"
                data-ng-href="{{CloudProjectComputeLoadbalancerCtrl.urls.website_order.load_balancer[CloudProjectComputeLoadbalancerCtrl.locale]}}"
                data-translate="cpc_loadbalancer_order"
            ></a>
        </div>
    </div>

    <div
        data-ng-if="CloudProjectComputeLoadbalancerCtrl.loaders.table.loadbalancer"
        class="text-center"
    >
        <oui-spinner></oui-spinner>
    </div>

    <div
        data-ng-if="CloudProjectComputeLoadbalancerCtrl.table.loadbalancer && CloudProjectComputeLoadbalancerCtrl.table.loadbalancer.length"
    >
        <a
            class="oui-button oui-button_secondary"
            data-ng-disabled="CloudProjectComputeLoadbalancerCtrl.loaders.table.loadbalancer"
            data-ng-href="{{CloudProjectComputeLoadbalancerCtrl.urls.website_order.load_balancer[CloudProjectComputeLoadbalancerCtrl.locale]}}"
        >
            <i class="glyphicon glyphicon-plus"></i>
            <span data-translate="cpc_loadbalancer_order"></span>
        </a>

        <oui-datagrid
            rows="CloudProjectComputeLoadbalancerCtrl.table.loadbalancer"
        >
            <oui-column title="'cpc_loadbalancer_name' | translate"
                >{{$row.displayName || $row.serviceName}}</oui-column
            >
            <oui-column title="'cpc_loadbalancer_openstack_status' | translate"
                >{{'cpc_loadbalancer_openstack_status_'+$row.openstack |
                translate}}</oui-column
            >
            <oui-column title="'cpc_loadbalancer_status' | translate"
                >{{'cpc_loadbalancer_status_'+$row.status |
                translate}}</oui-column
            >
            <oui-action-menu data-align="end" data-compact>
                <oui-action-menu-item
                    data-text="{{ 'cpc_loadbalancer_actions_configure' | translate }}"
                    data-on-click="CloudProjectComputeLoadbalancerCtrl.goToLoadbalancerConfigure($row.serviceName)"
                    data-ng-if="$row.status !== 'unavailable'"
                >
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-text="{{ 'cpc_loadbalancer_configure_advanced' | translate }}"
                    data-on-click="CloudProjectComputeLoadbalancerCtrl.goToIPLB($row.serviceName)"
                    data-ng-if="$row.status === 'unavailable'"
                >
                </oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid>
    </div>
</div>
