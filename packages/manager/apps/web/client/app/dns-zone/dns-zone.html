<div data-ovh-alert="{{ alerts.page }}"></div>

<div class="text-center" data-ng-if="ctrlDomain.loading.domainsInfos">
    <oui-spinner data-size="l"></oui-spinner>
</div>

<div data-ng-if="!ctrlDomain.loading.domainsInfos && ctrlDomain.domain">
    <div class="page-header">
        <h1
            data-translate="domain_tab_ZONE_named"
            data-translate-values="{ t0: ctrlDomain.domain.displayName }"
        ></h1>
        <dl
            data-ng-if="ctrlDomain.domain.nameServers && ctrlDomain.domain.nameServers.length > 0"
        >
            <dt>Name Servers</dt>
            <dd
                data-ng-repeat="serverName in ctrlDomain.domain.nameServers track by $index"
                data-ng-bind="serverName"
            ></dd>
        </dl>
    </div>

    <div class="oui-page-header" data-ng-if="!ctrlDomain.domain.isExpired">
        <oui-header-tabs>
            <oui-header-tabs-item
                data-text="{{:: 'domain_tab_ZONE' | translate }}"
                data-state="app.domain.dns-zone.dashboard"
                data-state-params="ctrlDomain.$stateParams"
            >
            </oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'domain_tab_REDIRECTION' | translate }}"
                data-state="app.domain.dns-zone.redirection"
                data-state-params="ctrlDomain.$stateParams"
            >
            </oui-header-tabs-item>
            <oui-header-tabs-item
                data-ng-if="ctrlDomain.hasZoneDns"
                data-text="{{:: 'domain_tab_DYNHOST' | translate }}"
                data-state="app.domain.dns-zone.dynhost"
                data-state-params="ctrlDomain.$stateParams"
            >
            </oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'domain_tab_TASKS' | translate }}"
                data-state="app.domain.dns-zone.tasks"
                data-state-params="ctrlDomain.$stateParams"
            >
            </oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'domain_tab_menu_emails' | translate }}"
                data-href="{{:: '#/configuration/email-domain/' + ctrlDomain.$stateParams.productId + '?tab=MAILING_LIST'}}"
            >
            </oui-header-tabs-item>
            <oui-header-tabs-item
                data-text="{{:: 'contacts_management' | translate }}"
                data-href="{{:: '#/useraccount/contacts?tab=SERVICES&serviceName=' + ctrlDomain.$stateParams.productId }}"
            >
            </oui-header-tabs-item>
        </oui-header-tabs>
    </div>
    <div class="tab-content" data-ui-view="dnsZoneView"></div>
</div>

<div id="currentAction" class="modal fade currentAction" role="dialog">
    <div class="modal-dialog">
        <div
            id="modal-container"
            class="modal-content"
            data-ng-include="ctrlDomain.stepPath"
        ></div>
        <div id="modal-help" class="help4wizards"></div>
    </div>
</div>
